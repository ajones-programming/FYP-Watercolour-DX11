//
// FX Version: fx_5_0
//
// 2 local object(s)
//
Texture2D gInput;
RWTexture2D gOutput;

//
// 1 groups(s)
//
fxgroup
{
    //
    // 2 technique(s)
    //
    technique11 HorzTEST
    {
        pass P0
        {
            VertexShader = NULL;
            PixelShader = NULL;
            ComputeShader = asm {
                //
                // Generated by Microsoft (R) HLSL Shader Compiler 10.1
                //
                //
                // Resource Bindings:
                //
                // Name                                 Type  Format         Dim      HLSL Bind  Count
                // ------------------------------ ---------- ------- ----------- -------------- ------
                // gInput                            texture  float4          2d             t0      1 
                // gOutput                               UAV  float4          2d             u0      1 
                //
                //
                //
                // Input signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // no Input
                //
                // Output signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // no Output
                cs_5_0
                dcl_globalFlags refactoringAllowed | skipOptimization
                dcl_resource_texture2d (float,float,float,float) t0
                dcl_uav_typed_texture2d (float,float,float,float) u0
                dcl_input vThreadIDInGroup.x
                dcl_input vThreadID.xy
                dcl_temps 3
                dcl_tgsm_structured g0, 16, 256
                dcl_thread_group 256, 1, 1
                //
                // Initial variable locations:
                //   vThreadIDInGroup.x <- groupThreadID.x; vThreadIDInGroup.y <- groupThreadID.y; vThreadIDInGroup.z <- groupThreadID.z; 
                //   vThreadID.x <- dispatchThreadID.x; vThreadID.y <- dispatchThreadID.y; vThreadID.z <- dispatchThreadID.z
                //
                #line 20 "D:\Files\University\Modules\TM470 Final Year Project\DX11\MyWork\MyProject\Prototype1\FX\test.fx"
                mov r0.x, vThreadIDInGroup.x
                mov r0.yz, vThreadID.xxyx
                resinfo_indexable(texture2d)(float,float,float,float)_uint r1.xy, l(0), t0.xyzw
                mov r1.zw, l(0,0,1,1)
                ineg r1.zw, r1.zzzw
                iadd r1.xy, r1.zwzz, r1.xyxx
                umin r1.xy, r0.yzyy, r1.xyxx
                mov r1.zw, l(0,0,0,0)
                ld_indexable(texture2d)(float,float,float,float) r1.xyzw, r1.xyzw, t0.xyzw
                store_structured g0.x, r0.x, l(0), r1.x
                store_structured g0.x, r0.x, l(4), r1.y
                store_structured g0.x, r0.x, l(8), r1.z
                store_structured g0.x, r0.x, l(12), r1.w
                
                #line 23
                sync_g_t
                
                #line 29
                mov r0.x, vThreadIDInGroup.x
                ld_structured r1.x, r0.x, l(0), g0.xxxx  // r1.x <- returnColour.x
                ld_structured r1.y, r0.x, l(4), g0.xxxx  // r1.y <- returnColour.y
                ld_structured r1.z, r0.x, l(8), g0.xxxx  // r1.z <- returnColour.z
                ld_structured r1.w, r0.x, l(12), g0.xxxx  // r1.w <- returnColour.w
                
                #line 31
                mov r0.xyzw, vThreadID.xyyy
                itof r2.xw, l(1, 0, 0, 1)
                mov r2.yz, l(0,0.800000,0.800000,0)
                mul r1.xyzw, r1.xyzw, r2.xyzw
                store_uav_typed u0.xyzw, r0.xyzw, r1.xyzw
                
                #line 32
                ret 
                // Approximately 25 instruction slots used
                            
            };
        }

    }

    technique11 VertTEST
    {
        pass P0
        {
            VertexShader = NULL;
            PixelShader = NULL;
            ComputeShader = asm {
                //
                // Generated by Microsoft (R) HLSL Shader Compiler 10.1
                //
                //
                // Resource Bindings:
                //
                // Name                                 Type  Format         Dim      HLSL Bind  Count
                // ------------------------------ ---------- ------- ----------- -------------- ------
                // gInput                            texture  float4          2d             t0      1 
                // gOutput                               UAV  float4          2d             u0      1 
                //
                //
                //
                // Input signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // no Input
                //
                // Output signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // no Output
                cs_5_0
                dcl_globalFlags refactoringAllowed | skipOptimization
                dcl_resource_texture2d (float,float,float,float) t0
                dcl_uav_typed_texture2d (float,float,float,float) u0
                dcl_input vThreadIDInGroup.y
                dcl_input vThreadID.xy
                dcl_temps 3
                dcl_tgsm_structured g0, 16, 256
                dcl_thread_group 1, 256, 1
                //
                // Initial variable locations:
                //   vThreadIDInGroup.x <- groupThreadID.x; vThreadIDInGroup.y <- groupThreadID.y; vThreadIDInGroup.z <- groupThreadID.z; 
                //   vThreadID.x <- dispatchThreadID.x; vThreadID.y <- dispatchThreadID.y; vThreadID.z <- dispatchThreadID.z
                //
                #line 40 "D:\Files\University\Modules\TM470 Final Year Project\DX11\MyWork\MyProject\Prototype1\FX\test.fx"
                mov r0.x, vThreadIDInGroup.y
                mov r0.yz, vThreadID.xxyx
                resinfo_indexable(texture2d)(float,float,float,float)_uint r1.xy, l(0), t0.xyzw
                mov r1.zw, l(0,0,1,1)
                ineg r1.zw, r1.zzzw
                iadd r1.xy, r1.zwzz, r1.xyxx
                umin r1.xy, r0.yzyy, r1.xyxx
                mov r1.zw, l(0,0,0,0)
                ld_indexable(texture2d)(float,float,float,float) r1.xyzw, r1.xyzw, t0.xyzw
                store_structured g0.x, r0.x, l(0), r1.x
                store_structured g0.x, r0.x, l(4), r1.y
                store_structured g0.x, r0.x, l(8), r1.z
                store_structured g0.x, r0.x, l(12), r1.w
                
                #line 44
                sync_g_t
                
                #line 50
                mov r0.x, vThreadIDInGroup.y
                ld_structured r1.x, r0.x, l(0), g0.xxxx  // r1.x <- returnColour.x
                ld_structured r1.y, r0.x, l(4), g0.xxxx  // r1.y <- returnColour.y
                ld_structured r1.z, r0.x, l(8), g0.xxxx  // r1.z <- returnColour.z
                ld_structured r1.w, r0.x, l(12), g0.xxxx  // r1.w <- returnColour.w
                
                #line 52
                mov r0.xyzw, vThreadID.xyyy
                itof r2.zw, l(0, 0, 1, 1)
                mov r2.xy, l(0.800000,0.800000,0,0)
                mul r1.xyzw, r1.xyzw, r2.xyzw
                store_uav_typed u0.xyzw, r0.xyzw, r1.xyzw
                
                #line 53
                ret 
                // Approximately 25 instruction slots used
                            
            };
        }

    }

}

